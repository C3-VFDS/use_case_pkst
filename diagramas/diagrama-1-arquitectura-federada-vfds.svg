<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   viewBox="0 0 1400 900"
   version="1.1"
   id="svg68"
   sodipodi:docname="diagrama-1-arquitectura-federada-vfds.svg"
   inkscape:version="1.4.3 (fcd0343856, 2026-01-01)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview68"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:zoom="0.68857143"
     inkscape:cx="699.27386"
     inkscape:cy="450.20747"
     inkscape:window-width="1920"
     inkscape:window-height="1043"
     inkscape:window-x="0"
     inkscape:window-y="0"
     inkscape:window-maximized="1"
     inkscape:current-layer="nodo-fp2" />
  <defs
     id="defs3">
    <style
       id="style1">
      .title { font: bold 24px Arial, sans-serif; fill: #1a237e; }
      .subtitle { font: 16px Arial, sans-serif; fill: #424242; }
      .component-label { font: bold 14px Arial, sans-serif; fill: #1a237e; }
      .text-label { font: 12px Arial, sans-serif; fill: #424242; }
      .small-text { font: 10px Arial, sans-serif; fill: #616161; }
      
      .node-central { fill: #e3f2fd; stroke: #1976d2; stroke-width: 3; }
      .node-fp { fill: #fff3e0; stroke: #f57c00; stroke-width: 2.5; }
      .service-box { fill: #f5f5f5; stroke: #616161; stroke-width: 2; }
      .service-central { fill: #e8eaf6; stroke: #5c6bc0; stroke-width: 2; }
      .connector { fill: #e0f2f1; stroke: #00897b; stroke-width: 2; }
      
      .arrow { stroke: #424242; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .arrow-data { stroke: #4caf50; stroke-width: 2.5; fill: none; marker-end: url(#arrowhead-green); stroke-dasharray: 5,5; }
      .arrow-ids { stroke: #ff6f00; stroke-width: 2.5; fill: none; marker-end: url(#arrowhead-orange); }
    </style>
    <marker
       id="arrowhead"
       markerWidth="10"
       markerHeight="10"
       refX="9"
       refY="3"
       orient="auto">
      <polygon
         points="0 0, 10 3, 0 6"
         fill="#424242"
         id="polygon1" />
    </marker>
    <marker
       id="arrowhead-green"
       markerWidth="10"
       markerHeight="10"
       refX="9"
       refY="3"
       orient="auto">
      <polygon
         points="0 0, 10 3, 0 6"
         fill="#4caf50"
         id="polygon2" />
    </marker>
    <marker
       id="arrowhead-orange"
       markerWidth="10"
       markerHeight="10"
       refX="9"
       refY="3"
       orient="auto">
      <polygon
         points="0 0, 10 3, 0 6"
         fill="#ff6f00"
         id="polygon3" />
    </marker>
  </defs>
  <!-- T√≠tulo -->
  <text
     x="700"
     y="40"
     text-anchor="middle"
     class="title"
     id="text3">Arquitectura Federada VFDS-EAC</text>
  <text
     x="700"
     y="65"
     text-anchor="middle"
     class="subtitle"
     id="text4">Vocational Federated Data Space con FIWARE + Conectores IDS/EDC</text>
  <!-- Nodo Central Coordinador -->
  <rect
     x="500"
     y="100"
     width="400"
     height="220"
     rx="10"
     class="node-central"
     id="rect4" />
  <text
     x="700"
     y="125"
     text-anchor="middle"
     class="component-label"
     id="text5"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:14px;line-height:normal;font-family:Arial, sans-serif"><tspan
       sodipodi:role="line"
       id="tspan69"
       x="700"
       y="125">üèõÔ∏è NODO CENTRAL COORDINADOR - CIFPCarlosIII</tspan></text>
  <!-- Servicios Centralizados -->
  <g
     id="servicios-centrales">
    <rect
       x="520"
       y="145"
       width="170"
       height="60"
       rx="5"
       class="service-central"
       id="rect5" />
    <text
       x="605"
       y="165"
       text-anchor="middle"
       class="text-label"
       id="text6">Orion-LD Hub</text>
    <text
       x="605"
       y="182"
       text-anchor="middle"
       class="small-text"
       id="text7">Context Broker</text>
    <text
       x="605"
       y="196"
       text-anchor="middle"
       class="small-text"
       id="text8">NGSI-LD v1.6.1</text>
    <rect
       x="710"
       y="145"
       width="170"
       height="60"
       rx="5"
       class="service-central"
       id="rect8" />
    <text
       x="795"
       y="165"
       text-anchor="middle"
       class="text-label"
       id="text9">Keycloak IAM</text>
    <text
       x="795"
       y="182"
       text-anchor="middle"
       class="small-text"
       id="text10">Identity Provider</text>
    <text
       x="795"
       y="196"
       text-anchor="middle"
       class="small-text"
       id="text11">OAuth2 / OIDC</text>
    <rect
       x="520"
       y="220"
       width="170"
       height="60"
       rx="5"
       class="service-central"
       id="rect11" />
    <text
       x="605"
       y="240"
       text-anchor="middle"
       class="text-label"
       id="text12">CKAN Cat√°logo</text>
    <text
       x="605"
       y="257"
       text-anchor="middle"
       class="small-text"
       id="text13">Data Catalog</text>
    <text
       x="605"
       y="271"
       text-anchor="middle"
       class="small-text"
       id="text14">DCAT-AP 2.1</text>
    <rect
       x="710"
       y="220"
       width="170"
       height="60"
       rx="5"
       class="service-central"
       id="rect14" />
    <text
       x="795"
       y="240"
       text-anchor="middle"
       class="text-label"
       id="text15">Observabilidad</text>
    <text
       x="795"
       y="257"
       text-anchor="middle"
       class="small-text"
       id="text16">Prometheus/Grafana</text>
    <text
       x="795"
       y="271"
       text-anchor="middle"
       class="small-text"
       id="text17">ELK Stack</text>
  </g>
  <text
     x="700"
     y="305"
     text-anchor="middle"
     class="small-text"
     fill="#1976d2"
     id="text18">Servicios de Confianza ‚Ä¢ Auditor√≠a ‚Ä¢ Gobernanza</text>
  <!-- Nodo FP 1 -->
  <g
     id="nodo-fp1"
     transform="translate(0,-32)">
    <rect
       x="100"
       y="450"
       width="450"
       height="380"
       rx="10"
       class="node-fp"
       id="rect18" />
    <text
       x="325"
       y="480"
       text-anchor="middle"
       class="component-label"
       id="text19"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:14px;line-height:normal;font-family:Arial, sans-serif">üìö NODO FP 1 - IES LuisSimarro</text>
    <!-- LMS Layer -->
    <rect
       x="120"
       y="500"
       width="410"
       height="70"
       rx="5"
       class="service-box"
       id="rect19" />
    <text
       x="325"
       y="525"
       text-anchor="middle"
       class="text-label"
       id="text20"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:Arial, sans-serif">Capa de Integraci√≥n LMS</text>
    <text
       x="200"
       y="545"
       text-anchor="middle"
       class="small-text"
       id="text21"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:normal;font-family:Arial, sans-serif">Moodle</text>
    <text
       x="325"
       y="545"
       text-anchor="middle"
       class="small-text"
       id="text22"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:normal;font-family:Arial, sans-serif">Canvas</text>
    <text
       x="450"
       y="545"
       text-anchor="middle"
       class="small-text"
       id="text23"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:normal;font-family:Arial, sans-serif">LTI/xAPI</text>
    <text
       x="325"
       y="562"
       text-anchor="middle"
       class="small-text"
       id="text24"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:normal;font-family:Arial, sans-serif">‚Üì Eventos de aprendizaje</text>
    <!-- Backend EAC -->
    <rect
       x="120"
       y="590"
       width="200"
       height="100"
       rx="5"
       class="service-box"
       id="rect24" />
    <text
       x="220"
       y="615"
       text-anchor="middle"
       class="text-label"
       id="text25"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:Arial, sans-serif">Backend EAC</text>
    <text
       x="220"
       y="632"
       text-anchor="middle"
       class="small-text"
       id="text26"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:normal;font-family:Arial, sans-serif">Python/FastAPI</text>
    <text
       x="220"
       y="648"
       text-anchor="middle"
       class="small-text"
       id="text27"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:normal;font-family:Arial, sans-serif">‚Ä¢ Evaluaci√≥n r√∫bricas</text>
    <text
       x="220"
       y="664"
       text-anchor="middle"
       class="small-text"
       id="text28"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:normal;font-family:Arial, sans-serif">‚Ä¢ Motor recomendaci√≥n</text>
    <text
       x="220"
       y="680"
       text-anchor="middle"
       class="small-text"
       id="text29"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:normal;font-family:Arial, sans-serif">‚Ä¢ Generaci√≥n LLM</text>
    <!-- Base Datos Local -->
    <rect
       x="330"
       y="590"
       width="200"
       height="100"
       rx="5"
       class="service-box"
       id="rect29" />
    <text
       x="430"
       y="615"
       text-anchor="middle"
       class="text-label"
       id="text30"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:Arial, sans-serif">PostgreSQL 16</text>
    <text
       x="430"
       y="632"
       text-anchor="middle"
       class="small-text"
       id="text31"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:normal;font-family:Arial, sans-serif">Datos Locales (RGPD)</text>
    <text
       x="430"
       y="648"
       text-anchor="middle"
       class="small-text"
       id="text32"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:normal;font-family:Arial, sans-serif">‚Ä¢ Student states</text>
    <text
       x="430"
       y="664"
       text-anchor="middle"
       class="small-text"
       id="text33"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:normal;font-family:Arial, sans-serif">‚Ä¢ Submissions</text>
    <text
       x="430"
       y="680"
       text-anchor="middle"
       class="small-text"
       id="text34"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:normal;font-family:Arial, sans-serif">‚Ä¢ Evaluaciones</text>
    <!-- Conector IDS -->
    <rect
       x="200"
       y="710"
       width="250"
       height="60"
       rx="5"
       class="connector"
       id="rect34" />
    <text
       x="325"
       y="730"
       text-anchor="middle"
       class="text-label"
       id="text35"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:Arial, sans-serif">Conector IDS/EDC</text>
    <text
       x="325"
       y="747"
       text-anchor="middle"
       class="small-text"
       id="text36"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:normal;font-family:Arial, sans-serif">Eclipse Dataspace Connector</text>
    <text
       x="325"
       y="763"
       text-anchor="middle"
       class="small-text"
       id="text37"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:normal;font-family:Arial, sans-serif">Pol√≠ticas ‚Ä¢ Contratos ‚Ä¢ Trazabilidad</text>
    <!-- NGSI-LD Client -->
    <rect
       x="200"
       y="785"
       width="250"
       height="35"
       rx="5"
       class="service-box"
       id="rect37" />
    <text
       x="325"
       y="807"
       text-anchor="middle"
       class="small-text"
       id="text38"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:normal;font-family:Arial, sans-serif">Cliente NGSI-LD ‚Üí Skills federados</text>
  </g>
  <!-- Nodo FP 2 -->
  <g
     id="nodo-fp2"
     transform="translate(0,-32)">
    <rect
       x="850"
       y="450"
       width="450"
       height="380"
       rx="10"
       class="node-fp"
       id="rect38" />
    <text
       x="1075"
       y="480"
       text-anchor="middle"
       class="component-label"
       id="text39"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:14px;line-height:normal;font-family:Arial, sans-serif">üìö NODO FP 2 - IES Ribera del Tajo</text>
    <!-- LMS Layer -->
    <rect
       x="870"
       y="500"
       width="410"
       height="70"
       rx="5"
       class="service-box"
       id="rect39" />
    <text
       x="1075"
       y="525"
       text-anchor="middle"
       class="text-label"
       id="text40"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:Arial, sans-serif">Capa de Integraci√≥n LMS</text>
    <text
       x="950"
       y="545"
       text-anchor="middle"
       class="small-text"
       id="text41"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:normal;font-family:Arial, sans-serif">Moodle</text>
    <text
       x="1075"
       y="545"
       text-anchor="middle"
       class="small-text"
       id="text42"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:normal;font-family:Arial, sans-serif">Blackboard</text>
    <text
       x="1200"
       y="545"
       text-anchor="middle"
       class="small-text"
       id="text43"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:normal;font-family:Arial, sans-serif">LTI/Caliper</text>
    <text
       x="1075"
       y="562"
       text-anchor="middle"
       class="small-text"
       id="text44"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:normal;font-family:Arial, sans-serif">‚Üì Eventos de aprendizaje</text>
    <!-- Backend EAC -->
    <rect
       x="870"
       y="590"
       width="200"
       height="100"
       rx="5"
       class="service-box"
       id="rect44" />
    <text
       x="970"
       y="615"
       text-anchor="middle"
       class="text-label"
       id="text45"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:Arial, sans-serif">Backend EAC</text>
    <text
       x="970"
       y="632"
       text-anchor="middle"
       class="small-text"
       id="text46"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:normal;font-family:Arial, sans-serif">Python/FastAPI</text>
    <text
       x="970"
       y="648"
       text-anchor="middle"
       class="small-text"
       id="text47"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:normal;font-family:Arial, sans-serif">‚Ä¢ Evaluaci√≥n r√∫bricas</text>
    <text
       x="970"
       y="664"
       text-anchor="middle"
       class="small-text"
       id="text48"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:normal;font-family:Arial, sans-serif">‚Ä¢ Motor recomendaci√≥n</text>
    <text
       x="970"
       y="680"
       text-anchor="middle"
       class="small-text"
       id="text49"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:normal;font-family:Arial, sans-serif">‚Ä¢ Generaci√≥n LLM</text>
    <!-- Base Datos Local -->
    <rect
       x="1080"
       y="590"
       width="200"
       height="100"
       rx="5"
       class="service-box"
       id="rect49" />
    <text
       x="1180"
       y="615"
       text-anchor="middle"
       class="text-label"
       id="text50"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:Arial, sans-serif">PostgreSQL 16</text>
    <text
       x="1180"
       y="632"
       text-anchor="middle"
       class="small-text"
       id="text51"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:normal;font-family:Arial, sans-serif">Datos Locales (RGPD)</text>
    <text
       x="1180"
       y="648"
       text-anchor="middle"
       class="small-text"
       id="text52"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:normal;font-family:Arial, sans-serif">‚Ä¢ Student states</text>
    <text
       x="1180"
       y="664"
       text-anchor="middle"
       class="small-text"
       id="text53"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:normal;font-family:Arial, sans-serif">‚Ä¢ Submissions</text>
    <text
       x="1180"
       y="680"
       text-anchor="middle"
       class="small-text"
       id="text54"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:normal;font-family:Arial, sans-serif">‚Ä¢ Evaluaciones</text>
    <!-- Conector IDS -->
    <rect
       x="950"
       y="710"
       width="250"
       height="60"
       rx="5"
       class="connector"
       id="rect54" />
    <text
       x="1075"
       y="730"
       text-anchor="middle"
       class="text-label"
       id="text55"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:normal;font-family:Arial, sans-serif">Conector IDS/EDC</text>
    <text
       x="1075"
       y="747"
       text-anchor="middle"
       class="small-text"
       id="text56"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:normal;font-family:Arial, sans-serif">Eclipse Dataspace Connector</text>
    <text
       x="1075"
       y="763"
       text-anchor="middle"
       class="small-text"
       id="text57"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:normal;font-family:Arial, sans-serif">Pol√≠ticas ‚Ä¢ Contratos ‚Ä¢ Trazabilidad</text>
    <!-- NGSI-LD Client -->
    <rect
       x="950"
       y="785"
       width="250"
       height="35"
       rx="5"
       class="service-box"
       id="rect57" />
    <text
       x="1075"
       y="807"
       text-anchor="middle"
       class="small-text"
       id="text58"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:normal;font-family:Arial, sans-serif">Cliente NGSI-LD ‚Üí Skills federados</text>
  </g>
  <!-- Conexiones -->
  <!-- Nodo 1 al Central -->
  <path
     d="M 325,418 V 380 H 600 V 320"
     class="arrow-ids"
     id="path58"
     sodipodi:nodetypes="cccc" />
  <text
     x="400"
     y="375"
     class="small-text"
     fill="#ff6f00"
     id="text59">IDS Protocol</text>
  <!-- Nodo 2 al Central -->
  <path
     d="M 1075,418 V 380 H 800 v -60"
     class="arrow-ids"
     id="path59"
     sodipodi:nodetypes="cccc" />
  <text
     x="950"
     y="375"
     class="small-text"
     fill="#ff6f00"
     id="text60">IDS Protocol</text>
  <!-- Datos federados -->
  <path
     d="M 325 785 L 325 820 L 650 820 L 650 320"
     class="arrow-data"
     id="path60" />
  <text
     x="450"
     y="783"
     class="small-text"
     fill="#4caf50"
     id="text61"
     style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:normal;font-family:Arial, sans-serif">Skills federados (NGSI-LD)</text>
  <path
     d="M 1075 785 L 1075 820 L 750 820 L 750 320"
     class="arrow-data"
     id="path61" />
  <text
     x="900"
     y="783"
     class="small-text"
     fill="#4caf50"
     id="text62"
     style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:10px;line-height:normal;font-family:Arial, sans-serif">M√©tricas agregadas</text>
  <!-- Leyenda -->
  <g
     id="leyenda"
     transform="translate(30, 850)">
    <text
       x="0"
       y="0"
       class="text-label"
       id="text63">Leyenda:</text>
    <line
       x1="70"
       y1="-5"
       x2="120"
       y2="-5"
       class="arrow-ids"
       id="line63" />
    <text
       x="125"
       y="0"
       class="small-text"
       id="text64">Conectores IDS/EDC (Gaia-X)</text>
    <line
       x1="280"
       y1="-5"
       x2="330"
       y2="-5"
       class="arrow-data"
       id="line64" />
    <text
       x="335"
       y="0"
       class="small-text"
       id="text65">Datos federados (NGSI-LD)</text>
    <rect
       x="500"
       y="-12"
       width="20"
       height="15"
       class="node-central"
       id="rect65" />
    <text
       x="525"
       y="0"
       class="small-text"
       id="text66">Servicios centralizados</text>
    <rect
       x="670"
       y="-12"
       width="20"
       height="15"
       class="node-fp"
       id="rect66" />
    <text
       x="695"
       y="0"
       class="small-text"
       id="text67">Nodos FP aut√≥nomos</text>
  </g>
  <!-- Notas -->
  <text
     x="30"
     y="870"
     class="small-text"
     fill="#616161"
     id="text68">Modelo federado: Cada centro mantiene soberan√≠a sobre datos sensibles ‚Ä¢ Interoperabilidad v√≠a est√°ndares NGSI-LD + IDS</text>
</svg>
